<script>
  import { scaleLinear } from "d3"

  const data = {
    "italy": {
      "d": "M9.82381 38.117L10.6686 38.8472L12.5863 39.6345L17.4946 38.5734L20.5082 37.5579L22.7112 36.4396L24.0694 36.6679L29.0007 38.2881L30.5759 37.4438L33.9891 35.2644L34.48 34.0892L37.0027 30.5635L37.0595 29.7191L35.7925 27.4828L36.1235 27.0378L39.4224 24.7444L41.0321 22.7362L42.7669 21.4012H44.0228L44.3993 21.8462L44.6279 22.7932V26.6499L45.2326 27.8251L48.0637 30.6206L50.027 32.1838L54.4786 33.2448L54.6841 33.804L53.6227 35.8806L56.4534 38.4022L56.9899 40.1936L58.3028 41.2662L59.992 40.7641L60.4717 39.7486L59.7638 38.0599L59.1246 36.2685L59.1702 35.2644L59.6496 34.0892L60.734 32.4575L63.8504 28.658L64.9118 26.5357L64.9919 23.1241L64.855 20.4542L65.8935 19.7809L68.2452 20.283L68.9642 20.226L69.4094 21.9033L70.5395 24.5275L71.7838 25.8626L73.0622 26.2049H74.5804L78.1761 24.5846L80.5505 23.9114L81.9087 24.0825L82.7761 25.1893L84.7394 28.0989L85.7441 28.3842L86.8971 28.0418L87.3193 27.5969L86.8055 26.4787L86.2119 24.0825L85.3901 22.177L84.4426 21.3441L84.1918 20.1689L84.614 18.1721L85.139 16.4378L86.3718 15.9928L87.8788 15.776L89.8647 17.556L92.1364 18.1721L93.837 18.058L94.0426 16.9969L93.883 15.833L92.8097 14.384L92.8442 12.102L93.7573 7.93735L94.3965 8.26823L96.9078 8.32525L99.6929 8.54201L101.497 10.2649L103.232 10.8241L105.743 10.9838L107.341 10.767L108.106 10.1509L108.962 8.15411L110.491 5.65528L113.185 4.43437L117.808 4.1606L120.183 3.71559L122.603 3.77261L124.418 4.1606L126.29 4.10349L130.981 2.39205L135.878 1L136.609 1.22816L136.734 1.71879L135.912 2.72293L135.125 4.10349L135.867 5.71238L138.857 8.87289L140.547 11.3261L142.202 13.1517L144.508 14.0987L147.51 14.7149L150.032 14.9317L152.761 15.6049L161.847 17.3278L166.447 17.7728L169.952 17.8869L175.237 19.005L174.837 20.8421L173.889 21.2871L172.098 22.4053L170.054 23.8544L168.308 25.5317L167.897 27.3116L168.536 28.4868L169.095 28.8862L169.792 28.5439L170.796 28.7721L172.189 29.3883L174.403 30.0614L174.54 30.6662L174.152 31.4535L172.554 32.8569L171.15 34.4771L171.036 35.4356L171.276 36.1545L171.846 36.6109L174.084 36.3826L174.495 36.9988L173.73 41.095L174.141 41.8252L176.173 42.4985L177.691 43.4569L180.602 46.0926L181.937 48.2377L181.184 48.9109L179.494 49.2989L178.124 49.082L179.563 47.7813L175.328 43.1716H173.616L171.424 45.1455L164.781 43.1146L163.582 43.9589L162.806 45.5335L160.694 47.496L157.601 48.3404L154.142 50.4855L150.558 52.0031L147.75 53.1897L146.106 52.9615L148.549 50.4855L147.373 50.4285L144.063 52.1742L142.179 53.6917L141.722 56.1791L141.38 60.3552L142.989 61.4277L146.083 66.916L149.496 69.2322L149.017 71.5029L148.32 73.26L146.437 74.7889L144.633 73.6593H143.64L143.161 77.2877L145.25 86.8494L147.978 93.627L150.455 96.548L155.968 101.169L161.607 103.577L172.018 111.37L177.588 113.777L179.06 115.158L182.782 121.137L186.138 128.108L189.95 139.028L192.553 144.47L197.416 150.552L207.29 159.326L216.09 165.784L224.161 169.755L230.325 170.451L244.593 169.573L247.116 169.926L249.89 171.033L250.677 173.783L249.901 175.643L247.002 177.582L244.148 180.264L244.08 183.949L247.162 186.528L261.647 193.397L276.349 199.147L281.064 202.091L286.577 206.678L299.624 212.988L301.942 216.057L310.172 222.618L313.996 227.764L315 231.735L313.768 235.705L313.265 238.558L312.203 241.41L308.825 240.338L304.921 237.428L298.392 225.756L288.186 224.569L286.064 223.679L282.251 221.671L281.954 220.37L280.881 218.716L279.991 218.122L276.041 217.769L273.575 219.663L270.767 224.158L267.731 230.605L264.832 240.098L264.935 243.909L267.206 247.652L273.279 249.728L278.062 253.071L281.338 256.529L282.285 264.881L283.986 269.662L282.217 272.354L278.301 271.704L273.347 273.438L269.9 276.485L268.61 279.429L269.569 287.108L269.033 289.994L262.538 295.517L259.353 301.188L258.565 303.527L257.435 306.242L248.623 306.311L246.397 302.99L245.963 298.107L247.264 295.106L250.381 293.657L252.013 287.404L251.02 282.909L252.196 280.923L253.234 279.543L255.62 278.71L259.056 277.923L258.873 271.636L256.019 268.772L254.787 264.824L252.915 257.419L247.801 248.062L244.833 239.744L242.744 235.648L239.765 233.458L234.719 233.515L232.14 232.921L222.745 227.114L222.117 226.223L222.015 224.752L223.339 222.378L222.174 219.309L220.839 216.354L218.978 213.809L216.924 212.52L212.974 213.342L211.616 213.935L209.082 213.695L207.198 214.813L206.091 214.882L208.853 210.455L207.94 209.451L204.744 207.625L200.52 207.328L199.39 207.089L198.728 208.275L197.941 207.625L197.895 205.685L192.359 196.854L188.854 193.271L187.234 192.632L184.312 193.397L179.186 191.811L176.196 191.457L174.643 191.868L172.2 192.986L170.944 192.279L170.408 191.103L165.717 187.406L159.918 185.364L148.263 173.84L144.667 169.515L137.453 164.792L132.693 157.866L128.949 155.367L123.664 153.336L122.477 153.576L120.947 154.329L119.76 154.443L118.79 153.576L119.658 152.64L120.742 152.241L120.217 149.628L113.939 142.782L110.32 140.648L109.327 139.256L108.483 137.407L107.683 136.244L105.994 135.502L104.624 135.673L102.661 135.205L102.581 131.919L102.809 129.432L102.41 127.298L100.275 121.776L96.7137 117.052L94.2822 105.87L92.5474 102.721L88.8604 100.313L80.6989 97.689L69.2154 90.4893L66.841 90.3751L59.9694 87.591L55.7686 87.1346L50.5178 89.5764L44.2739 96.4909L39.2057 103.634L37.3452 105.06L30.5989 107.524L24.5261 108.677L24.3662 106.84L24.1265 105.471L25.0625 103.919L26.7291 102.15L28.1904 99.8569L28.761 98.2595L28.4416 97.1755L27.6425 95.5667L26.6378 95.4526L20.9534 96.7762L19.5721 96.4225L15.2003 94.3686L10.5543 91.7443L8.75088 89.9187L8.04302 88.0931L8.45408 86.9065L8.05452 85.7655L7.08435 84.2251L7.83749 82.4679L9.20757 80.243L9.88094 78.7711L11.0451 78.3717L11.5475 77.4589L10.4972 73.8305L9.93807 73.26L9.1048 72.8036L7.82634 72.7466L5.62301 72.0163L3.94498 70.7612L3.52278 69.0611L2.64388 67.4751L1.1484 65.9576L1 64.3716L2.50698 63.5158L4.7671 63.4588L6.31937 63.801L9.74403 61.1996L10.9995 60.9713L12.1526 60.4123L12.9172 56.8523L13.6822 55.7797L13.8417 55.1637L13.0886 54.4334L10.1892 51.8889L8.73938 49.2989L6.63915 46.435L4.69847 45.1455L4.29891 44.1301L4.16201 42.8408L4.56157 41.7682L7.82634 40.0338L9.82381 38.117ZM154.096 170.919L154.085 170.691H153.811L153.822 170.862V170.976L154.096 170.919ZM150.968 104.261L151.585 102.55L151.231 101.34L149.61 101.568L148.617 103.12L149.439 104.489L150.968 104.261ZM99.8301 138.845L100.732 140.123L100.857 140.876L100.355 141.743L100.732 143.649L98.4374 142.029L95.2639 142.839L93.3236 142.668L92.6958 141.275L93.1065 140.408L96.1316 140.237L97.1248 139.838L98.9739 140.009L99.8301 138.845ZM195.384 211.219L194.288 211.516L193.615 211.162L193.204 210.626L193.58 209.337L195.966 210.101L195.92 210.809L195.384 211.219ZM154.039 347.57L152.818 347.935L151.037 346.771L150.855 345.071L151.117 344.523L153.263 345.31L153.913 346.896L154.039 347.57ZM244.046 296.544L242.527 300.515L241.774 302.021L236.078 311.674L235.564 313.91L235.256 316.329L234.731 318.451L234.012 320.505L233.327 323.049L233.612 325.948L234.092 327.34L234.913 328.309L236.215 329.165L237.254 330.5L235.815 331.767L237.687 334.197L239.114 335.658L239.411 337.107L239.502 338.567L236.831 341.363L235.781 342.823L235.142 344.706L234.971 346.588L235.37 348.3L235.382 350L232.505 349.76L229.377 348.722L226.444 349.213L222.026 347.205L220.474 346.896L218.99 346.109L214.983 340.028L211.97 337.415L208.796 335.407L205.634 335.292L202.507 335.532L199.665 334.323L193.797 330.192L187.61 326.86L184.916 324.738L183.683 323.289L182.302 322.319L178.821 321.349L175.556 319.113L174.221 318.987L171.184 319.227L169.655 319.113L168.091 318.326L164.906 315.667L162.806 312.039L162.246 310.464L163.342 306.311L164.735 302.386L166.093 301.245L167.657 300.457L168.627 299.259L169.404 297.867L172.668 301.964L174.152 302.99L175.465 302.751L177.851 301.302L177.942 299.682L180.567 297.571H183.969L185.601 297.924L186.572 299.796L187.93 300.343L189.459 300.64L194.71 304.2L196.16 304.736L197.587 304.862L201.388 303.356L204.288 302.808L210.6 303.595L213.956 302.694L216.319 302.625L219.641 301.245L222.14 298.951L223.533 298.415L224.937 298.232L228.544 298.347L232.185 298.894L233.658 298.347L234.788 296.852L236.261 296.179L237.904 296.669L241.888 294.079L243.68 293.954L245.449 294.924L244.046 296.544ZM83.5637 205.263L84.9679 207.443L88.2895 216.354L88.6549 218.248L88.1867 220.256L87.5019 221.614L84.8195 226.109L85.4588 229.841L86.6003 232.145L86.8971 234.701L86.4861 237.907L85.5842 257.419L84.8993 260.876L84.4656 263.865L82.5249 264.824L79.8541 263.808L76.5778 262.131L75.0712 262.256L73.5987 262.85L72.3429 262.314L71.0874 261.355L70.5165 268.11L69.1241 270.86L67.0235 272.594L64.8662 272.72L62.6747 272.115H60.8824L59.4099 270.86L58.1886 268.589L56.3851 265.782L54.4675 262.496L54.1707 259.564L53.6227 253.071L54.0449 251.634L54.7413 250.265L54.9924 247.355L54.6159 244.799L55.1408 243.909L56.2138 244.799L56.9443 244.502L56.8073 243.19L56.9899 240.817L55.4948 238.797L53.2231 238.136L52.9493 236.059L53.0517 233.982L54.2163 232.625L54.5242 230.845L54.3873 225.276L52.6295 223.268L51.9447 220.188L51.0201 218.248L49.4449 216.24L47.6982 214.642L46.5225 213.102L46.1686 209.04L46.5912 205.617L47.0935 204.213L47.6641 204.385L49.4104 206.096L50.8146 206.45L53.5426 206.861L56.2253 206.324L59.4099 204.795L62.5033 202.97L66.8295 197.504L69.5693 196.443L70.9847 194.983L71.3612 193.043L72.5484 192.575L74.0324 194.446L75.8132 194.629L78.5756 196.158L79.7628 197.675L80.8699 199.444L81.8401 200.209L82.8789 200.676L83.0844 201.087L82.2738 201.498L81.4294 203.563L82.023 204.145L83.5637 205.263ZM56.2594 267.277L54.8782 270.677L53.189 268.292L53.0061 266.193L53.2688 265.6L55.1865 266.501L56.2594 267.277ZM48.5089 199.912L47.7327 201.441L46.5111 201.327L46.9336 200.209L47.9609 197.915L49.3191 197.151L49.9012 197.801L49.308 199.147L48.5089 199.912Z",
      "width": 316,
      "height": 351
    },

    "spain": {
      "d": "M277.972 173.839L277.413 174.263L275.716 173.839H273.072L272.97 172.453L273.334 171.491L273.802 170.472L275.419 172.453L277.972 172.82V173.839ZM318.042 135.242L320.582 136.376L323.192 135.368L324.604 135.666L326.017 136.204L326.336 138.415L325.151 140.854L323.51 143.305L322.052 145.997L320.879 149.112L318.554 150.967L316.413 152.044L311.878 149.765L309.235 149.169L308.471 148.333L307.776 144.863L306.637 143.786L304.848 143.305L303.356 144.141L301.407 145.997L300.257 144.141L298.662 143.844L298.001 142.71L297.978 141.335L308.654 133.043L311.718 131.188L318.327 129.046L319.352 129.344L318.532 130.661L318.543 131.188L319.397 131.795L319.227 132.803L318.395 133.639L318.042 135.242ZM347.869 133.456L347.414 133.879L339.381 129.882L336.761 129.47L336.089 128.874L336.146 126.79L336.317 125.897L341.637 125.473L345.967 126.904L348.382 130.89L348.587 131.554L347.869 133.456ZM274.052 165.307L273.129 167.403L269.164 166.681L268.219 165.776L269.05 163.383L270.269 163.073V161.401L271.477 159.66L277.105 158.275L278.439 159.477L278.723 161.161L275.362 164.826L274.052 165.307ZM190.676 12.8769L190.767 14.0337L191.656 15.6486L192.749 16.2212L194.948 17.0343L196.589 17.1489L198.879 17.5612L200.429 18.4775L200.508 19.8747L200.03 21.4896L199.107 22.9328L198.549 24.101L199.096 24.7309L199.916 25.2577L200.736 25.3723L201.385 25.2005L201.841 24.33L202.673 23.2305L203.14 23.116L203.129 23.6886L203.493 24.4445L206.33 25.7731L212.46 28.1553L214.841 28.2127L216.858 28.499L217.405 29.484L221.335 33.2062L222.258 33.0916L224.001 33.149L226.12 32.8512L227.59 32.164L228.593 32.2785L229.698 33.0344L230.985 33.6071L232.729 34.8325L234.198 36.3444L235.201 36.8712L241.353 35.8176L242.743 36.7452H244.213L245.865 36.5162L249.443 36.9858L252.382 36.8712L252.655 36.4589L252.929 33.149L253.385 31.9235L254.023 31.6371L255.766 31.8662L262.021 33.8476L264.596 35.0616L267.079 36.0466L269.29 36.1726L270.668 36.8025L272.719 40.0094L272.446 41.5785L272.548 42.1625L272.833 43.262L272.753 44.4876L273.3 45.3122L274.223 45.4267L275.511 45.1289L276.798 44.6708L279.179 43.3308L279.817 43.0902L283.793 44.6708L285.548 45.6557L286.209 46.824L287.04 47.935L288.248 48.1068L289.889 46.9958L292.544 45.8275L296.976 46.8813L301.966 48.3931L304.096 48.5763L304.176 47.809L304.529 46.7667L305.35 46.2971L306.546 46.1253L308.289 45.5985L310.203 44.6708L312.129 44.3158L314.259 44.9571L316.845 45.5413H318.406L319.09 47.6372L320.389 48.4503L320.879 50.2599L318.691 51.2564L317.301 51.3709L316.982 54.5319L317.552 55.4597L318.862 56.2843L319.249 57.212L319.603 61.8963L317.062 64.7138L313.405 67.8749L295.688 78.0338L291.473 82.9701L289.912 84.0925L276.673 87.2193L267.319 90.575L262.864 91.7547L257.315 97.5386L254.729 99.9093L256.871 100.562L259.298 103.334L258.466 104.582L254.934 106.472L253.35 107.067L252.507 106.77L251.676 107.01L245.728 117.089L240.328 124.408L237.331 127.557L234.346 132.264L227.773 144.565L227.67 148.093L230.951 160.313L232.729 163.554L235.372 166.257L240.362 168.548L241.49 170.827L239.792 173.003L234.893 176.852L226.303 182.04L222.611 186.14L221.848 190.126L219.285 191.935L218.327 197.502L216.801 201.189L216.413 202.404L214.795 205.255L214.602 207.26L217.245 210.111L215.912 211.326L214.579 211.864L211.548 212.173L201.294 212.539L192.989 218.61L188.773 224.027L184.979 234.083L180.353 240.061L178.348 241.161L175.227 238.538L171.318 238.103L167.502 239.019L165.565 241.035L162.409 242.203L159.367 241.218L152.896 240.668L149.933 240.794L145.342 242.444L141.445 241.344L134.871 240.794L120.55 242.077L118.818 242.753L116.961 245.261L112.301 249.533L105.42 249.716L99.0622 252.477L97.49 254.252L94.7098 259.097L93.7644 262.647L93.2856 262.716L92.6364 261.857L91.5767 262.097L91.0412 264.857L88.6143 266.094L86.6891 266.518L81.8697 264.308L77.9275 260.998L75.8312 260.815L72.5156 255.661L71.0803 252.351L70.1231 248.869L70.3509 247.517L70.089 246.361L67.0811 244.952L66.3976 241.711L68.8015 237.553L70.6586 235.732L71.8206 235.24L69.0522 235.423L66.9785 238.103L64.529 233.774L54.4003 225.367L55.1183 223.477L55.0612 222.378L53.2723 224.634L52.0193 225.241L46.7099 224.875L40.5915 225.917L39.2588 217.155L38.6093 213.811L38.4838 211.681L40.2612 206.71L42.0386 204.648L44.4426 200.468L47.405 196.952L50.3559 196.173L51.7001 195.623L52.828 192.966L53.5571 190.664L53.0901 190.423L49.6719 190.904L43.7476 181.307L43.9868 179.749L44.8185 177.459L45.4794 174.618L45.6501 172.339L47.3135 170.415L49.8315 168.491L51.9963 165.719L53.1128 162.959L53.4775 160.496L52.3155 158.756L48.9543 157.793L45.7186 150.784L45.1147 146.421L44.3856 145.94L42.2893 143.97L40.3638 140.259L40.1016 139.663L42.2778 139.01L50.9939 138.953L52.8965 138.174L53.1812 137.876L54.8676 134.945L56.7131 130.18L57.1805 127.259L56.6561 126.068L53.8533 123.159L53.7963 122.266L54.3092 120.891L56.041 119.414L58.4221 117.742L59.7781 116.264L59.5389 115.131L58.8324 113.951L58.7753 112.874L59.2882 111.511L59.5274 106.838L59.9488 105.647L59.6185 101.444L59.1741 98.0196L57.4652 93.5872L57.864 92.5793L58.7298 91.7547L61.4756 90.22L63.8225 86.5664L67.1722 83.5657L71.4221 81.149L74.3727 78.4462L75.649 76.3846L76.4919 75.8005L76.2412 74.8613L75.7401 73.4525L74.1108 72.1011L72.0031 71.3337H69.5991L68.1294 71.1046L67.7988 69.9822L67.9813 67.1075V64.2442L67.571 62.95L66.4886 61.9536L64.2668 62.2514L62.4439 61.4268L60.9742 61.2549L60.1199 61.8391L55.9726 61.6673L54.2407 61.1977L52.9646 60.6709L52.2129 60.9572L51.7341 61.5413L51.609 62.4232L51.2901 63.5341L49.6834 64.5878L46.22 65.6415L43.4513 65.527L40.8992 64.8283L40.0905 64.2442L38.9055 63.7746L33.6188 64.3588L32.9808 63.9464L31.1808 65.0001L28.4576 66.2943L26.9767 66.3516L26.4298 66.1111L26.2702 65.527L25.2449 63.5341L25.5637 62.4804L27.8084 59.3767L27.6603 58.678L26.7716 57.6816L26.0992 56.227L25.8488 55.5169L24.4702 55.4024L23.0572 56.1583L17.452 57.6816L16.1415 58.2084L13.6805 59.7317L11.0829 62.0108L9.21432 62.4804L8.50815 61.7818L8.56519 56.4561L11.6638 52.9514L13.7945 50.7868L12.8832 50.3859L10.6729 50.4431L10.8436 48.7481L11.983 47.9922L13.0769 46.1826L11.9146 45.3695L11.0488 44.2012L11.1854 41.1089L11.5157 39.8376L11.2995 38.4975L6.71927 40.353L5.5343 40.0666L5.63687 37.7417L8.28006 34.2485L8.61072 33.2062L5.69391 32.6794L3.57468 30.9385L2.35568 29.4266L1 27.2277L1.09109 25.2577L2.77707 20.6764L4.95331 19.2907L6.82184 18.4775L10.8096 15.305L15.9934 15.8776L19.3205 15.2477L22.3166 13.6213L24.0714 13.2204L26.7831 11.8347L26.7716 9.93344L25.9284 8.49035L26.8057 7.16173L29.8932 5.48961L33.357 3.35927L37.2077 2.95846L41.2184 1L43.8046 2.25985L46.106 1.85895L48.6921 3.30204L52.0304 6.64636L57.089 8.03221L61.2478 6.9327L68.3686 6.76091L72.0146 7.16173L78.4289 6.36001L82.0748 6.64636L87.9651 4.97424L92.568 7.04726L101.398 8.03221L106.65 9.76165L121.382 12.5906L126.771 12.6478L134.302 11.0329L137.526 9.81888L140.443 10.5634L144.761 9.17751L146.857 9.40653L149.466 11.4338L158.934 14.0909L161.441 11.8347L163.275 11.3193L170.02 12.7051L176.844 15.534L180.41 15.7058L185.629 14.9499L189.856 13.106L190.676 12.8769Z",
      "width": 350,
      "height": 268
    },

    "unitedKingdom": {
      "d": "M127.457 260.947L125.706 262.22L119.994 263.481L117.544 264.8L113.16 267.748L112.381 268.012L105.914 267.278L101.174 263.481L98.1868 261.899L96.9047 261.692L95.5881 262.162L92.7378 262.633L89.8875 262.587L91.3984 260.798L93.4131 259.8L89.0404 259.112L87.7583 258.584L86.4189 257.38L82.9734 257.162L81.3248 257.483L78.4288 259.112L73.9758 260.844L68.7102 258.424L67.7142 257.38L67.783 255.327L67.0616 253.698L65.6196 253.182L67.5884 251.083L69.8777 249.661L74.9033 248.25L82.6527 245.016L86.9111 243.606L90.9293 241.197L92.6005 239.74L93.8483 237.71L95.0385 235.267L96.8017 233.237L95.1874 232.767L94.4663 231.265L94.764 229.751L95.485 228.409L94.9358 226.7L93.7911 224.934L93.9053 223.592L94.2029 222.09L91.2154 222.193L88.1359 222.663L85.3657 223.695L82.6757 225.094L80.3635 225.347L80.3977 224.211L81.4737 222.812L84.1755 220.851L87.1288 219.199L88.1932 217.915L89.0061 216.47L90.4828 215.277L94.2948 213.063L101.426 210.597L102.536 210.448L105.33 210.758L108.054 210.391L110.458 209.473L112.931 209.267L118.231 211.882L116.708 207.879L119.101 206.95L122.512 210.552L123.783 210.907L126.507 210.391L125.42 209.772L124.229 209.726L122.626 209.21L121.367 208.028L119.158 204.393L119.375 202.237L120.864 199.989L122.604 197.89L121.253 197.488L120.085 196.72L119.879 194.621L120.337 192.843L123.336 191.215L124.229 188.772L124.698 186.077L124.218 184.861L121.264 185.067L119.822 185.572L118.54 186.386L117.189 186.329L113.629 183.335L111.568 181.11L107.985 176.408L107.551 173.587L110.653 167.543L115.358 163.677L120.749 162.324L119.753 162.072L111.546 162.026L108.764 162.519L106.211 164.079L104.769 164.584L103.338 164.733L101.895 165.535L100.602 166.637L99.1597 167.336L96.3894 167.141L95.0501 167.393L94.146 166.74L93.4131 165.685L92.3371 165.432L91.1581 165.73L88.6739 167.141L86.1328 167.99L83.1337 167.084L79.1729 165.432L78.3946 166.029L77.4101 167.588L76.8264 169.951L74.1361 167.898L71.8008 165.077L71.0225 163.379L71.1028 161.418L72.3849 160.615L73.7812 161.315L76.0477 156.67L80.4435 150.626L82.0117 148.894L83.088 146.6L82.9734 145.063L82.1035 143.824L78.3715 140.946L78.4631 138.572L78.9783 135.957L80.1116 134.374L80.535 134.076L85.6864 134.122L83.7175 133.284L79.8255 130.922L79.9397 130.085L80.9242 127.871L80.5008 128.123L79.6421 129.098L77.8908 131.564L76.8722 132.149L74.0331 132.745L73.4836 133.927L72.9686 134.271L71.5604 134.374L71.1028 135.509L70.7594 135.601L70.3929 134.374L70.4729 132.355L71.1255 130.474L72.2588 129.052L76.4484 125.761L74.4222 126.793L69.7404 129.844L67.3481 131.805L66.7298 132.493L66.4667 133.089L66.4321 133.732L67.3708 137.287L66.9701 138.916L62.6201 149.788L61.8191 150.878L61.1323 151.429L60.4567 151.578L58.5451 151.383L57.6637 150.534L57.6979 149.639L58.1786 148.24L59.976 143.079L60.7889 141.645L61.9221 140.303L64.2687 137.975V137.826L62.6774 138.273L62.0137 138.124L61.6245 137.677L62.1625 130.819L63.5019 128.559L64.1314 125.268L65.3219 122.469L66.6498 120.416L67.7488 117.824L69.2024 116.654L69.6831 114.899L71.3316 112.996L72.6479 111L71.9842 111.195L63.8453 116.367L61.7387 117.342L59.0258 117.09L56.9081 116.505L55.3168 115.244L54.6758 112.904L52.6957 112.846L50.9899 112.411L51.0014 112.124L53.291 110.805L56.9311 110.369L60.3994 108.328L57.4233 106.917L57.6864 106.481L60.3767 105.323L63.8337 101.354L64.7266 97.7302L63.1585 96.0328L62.6317 94.9318L59.5753 93.6817L59.0831 92.0875L59.5295 91.2273L60.5482 90.3556L62.1279 89.6904L64.6121 89.0137L62.4371 88.3485L61.6587 87.5342L61.0519 86.3759L61.0865 85.6648L62.3686 82.6484L63.0781 81.4097L64.4517 79.827L70.3129 79.9302L70.9997 79.2077L71.652 79.1618L74.6399 79.827L74.1819 79.1159L69.4543 75.354L69.0766 74.643L70.5418 72.6473L70.6675 71.7413L70.5418 70.755L70.9767 70.0439L72.5337 69.6654L77.2498 69.7113L78.3946 69.3786L77.9481 68.3809L76.8722 67.1078L76.746 66.0641L77.0322 65.1236L77.1925 63.1854L77.3871 62.3825L78.5661 61.1095L79.4705 60.731L80.6953 60.5016L83.271 60.9259L84.2212 61.4421L85.3087 62.6692L86.1328 62.5201L89.418 61.2585L90.3913 61.0636L91.6388 62.5775L97.1908 61.3503L104.574 60.8342L109.05 60.0314L113.755 59.7446L118.151 58.85L122.752 59.2744L122.901 59.7905L122.638 60.5016L121.459 62.4743L121.562 64.6993L121.298 65.3989L120.715 66.2018L118.975 67.7615L114.442 69.9865L106.085 75.1132L101.117 77.6823L100.43 78.9209L100.053 80.6413L102.891 80.9739L104.013 81.5474L103.338 82.4075L98.9194 85.4239L97.5227 88.1994L100.877 88.1077L103.59 87.5801L109.119 85.8483L114.213 84.5637L116.662 84.5179L121.459 85.5157L122.523 85.5616L124.572 85.0913L126.621 85.0454L140.495 85.3322L144.342 84.7472L146.952 85.4698L149.047 87.2475L151.038 90.5047L150.958 91.0323L149.699 92.5233L147.387 94.4042L145.372 97.0077L144.777 98.4069L144.422 99.9438L143.746 101.354L139.774 108.041L135.837 111.734L134.131 114.406L131.944 116.505L129.941 117.824L127.766 118.707L121.47 119.682L119.719 120.324L117.624 121.494L115.38 122.079L117.944 121.987L120.52 121.345L125.156 121.104L130.491 123.352L129.953 125.176L127.766 126.644L122.878 126.885L118.242 130.085L116.147 131.071L113.984 131.564L111.248 131.415L106.291 130.578L104.162 129.695L106.108 131.117L108.249 131.908L121.15 133.732L121.894 133.537L126.003 131.61H131.487L141.881 135.108L144.834 137.826L149.104 141.691L151.405 143.228L153.145 144.616L154.118 146.646L156.121 153.516L158.307 160.214L161.341 167.543L162.657 169.55L164.5 170.96L173.727 174.286L175.73 175.353L179.336 178.53L182.781 181.925L185.986 184.505L189.444 186.593L187.749 187.705L186.57 189.437L187.498 191.777L188.848 194.013L191.63 197.637L194.183 201.571L193.244 200.963L192.317 200.654L190.955 200.7L189.684 200.551L187.314 199.323L185.025 197.787L180.538 198.406L178.077 198.142H175.879L180.023 199.014L184.521 199.117L194.435 205.723L197.846 209.623L199.815 214.818L198.453 217.192L196.323 218.683L194.366 220.438L192.488 222.399L198.04 225.301L199.243 225.198L200.513 224.785L201.623 223.798L203.661 221.424L204.68 220.599L208.091 220.289L210.999 220.438L213.895 220.954L216.459 220.805L221.576 221.837L224.152 222.766L230.768 226.907L232.164 229.189L232.874 232.148L233 235.417L231.924 238.433L230.676 241.151L229.932 244.649L229.44 245.957L228.673 246.897L225.182 249.719L222.869 250.82L221.919 250.349L220.878 250.395L220.798 251.083L221.85 252.494L221.942 254.226L219.893 255.487L217.741 256.015L214.295 255.327L209.396 257.69L212.933 258.905L213.632 260.213L212.784 262.484L210.632 263.527L208.126 263.952L205.63 264.055L203.558 264.64L201.578 265.695L204.073 265.11L205.802 265.638L206.935 267.541L207.885 268.126L212.819 268.918H215.761L221.633 268.436L224.403 268.493L225.445 268.803L225.456 270.397L225.067 274.366L224.289 275.157L216.608 278.437L214.971 280.777L214.547 282.153L210.037 281.947L207.954 283.38L204.233 284.39L201.452 285.456L198.682 286.787L196.335 287.154L186.513 285.559L180.526 285.72L172.445 287.108L170.361 286.832L167.328 285.559L164.111 284.653L160.471 284.286L157.277 283.059L159.246 285.399L154.793 287.635L152.79 288.06L150.706 288.002L146.356 288.645L142.361 288.323L142.945 289.929L143.976 291.317L143.186 291.902L142.224 292.062L134.669 290.996L133.535 291.202L132.654 292.166L129.872 291.684L127.205 290.032L124.355 288.908L121.413 288.381L118.975 288.599L109.188 291.156L107.127 293.771L106.085 297.453L104.608 300.722L102.193 303.233L99.4801 303.612L96.9159 301.846L92.074 299.919L90.3682 298.577L89.8418 298.519L89.315 299.001L87.3807 299.598H85.3772L82.3093 300.125L76.8491 301.685L74.6399 302.752L69.9234 305.699L68.9278 306.502L67.1762 309.461L64.5321 310L62.2425 308.119L59.5526 307.419L56.7365 308.119L54.9507 309.083L54.1951 308.28L54.1724 306.617L56.3358 304.575L61.9791 303.073L66.9016 299.116L69.42 296.707L70.3357 295.365L71.5835 294.517L73.0717 294.196L73.9073 292.693L80.7869 286.729L81.4279 285.399L81.8517 282.956L82.4469 280.616L87.9529 279.079L90.6889 274.148L91.3869 273.781L99.0336 272.875L104.654 272.932L110.263 273.884L113.114 273.987L115.976 273.62L118.254 272.301L122.237 267.541L124.446 265.431L126.976 263.527L129.346 261.371L133.215 257.38L130.605 258.745L127.457 260.947ZM92.3371 210.035L93.2642 210.597L95.8172 210.494L94.9243 211.733L92.1656 213.121L90.2536 214.451L88.0102 215.587L86.9342 214.302L85.6633 214.359L83.8663 211.836L83.6487 208.132L86.1443 207.157L89.6241 207.214L92.3371 210.035ZM134.417 43.1948L131.922 43.2406L133.238 41.6579L134.783 41.2335L137.668 41.4285L137.176 42.1167L134.417 43.1948ZM168.427 9.26922L167.866 9.57889L165.748 6.90657L167.362 3.8902L169.262 3.97048L169.571 4.78477L169.411 5.50732L168.381 5.59911L168.301 5.8285L168.598 7.2277L168.587 8.85634L168.427 9.26922ZM162.554 8.6728L163.012 10.4849L164.122 10.0376L165.862 11.8039H166.732L168.175 11.0813L167.843 12.7099L166.366 17.309L165.874 18.0889L165.622 19.4996L165.301 19.7749L164.798 22.5619L163.825 23.5253L162.921 25.7273L162.6 25.9567L161.329 25.0851L162.646 21.6902L163.149 19.729L162.84 18.7197L162.131 17.8137L160.219 17.7678L158.616 18.1807L158.307 17.6302L158.239 16.8961L157.838 16.6668L155.697 16.7126L155.136 16.5406L154.667 15.8524L154.598 15.3019L156.59 14.9005L158.341 15.0726L161.066 13.983L159.429 10.439L157.208 10.1294L156.739 9.76238L157.14 9.17747L158.341 8.85634L160.265 7.04421L161.387 6.78039L162.737 6.81482L162.554 8.6728ZM174.356 1.49316V1.8143L173.223 4.01637V4.83067L171.403 4.73892L171.082 4.521L170.773 3.24793L171.025 1.90604L171.266 1.53906L171.826 1.40142L172.376 1.67665L173.326 1H173.807L174.356 1.49316ZM120.348 54.9505L119.055 55.2831H117.841L115.861 53.7348L115.163 52.565L115.346 51.8195L116.159 51.5787L118.093 51.9571L119.02 53.2646L119.078 54.1133L119.318 54.4459L120.52 54.7671L120.348 54.9505ZM125.648 56.3613L125.408 56.453L124.618 55.9369L123.279 54.1592L125.477 53.8266L126.438 54.0674L126.015 54.813L125.648 56.3613ZM122.935 48.5967L122.684 49.2504H124.366L126.782 49.8124L128.304 49.9042L129.506 50.6038L128.831 51.9112L128.006 52.2897L127.205 52.3356L124.332 51.0281L120.44 51.5787L119.639 51.3952L119.158 51.074L119.009 50.6038L119.043 49.6633L118.803 49.388L117.406 50.2712L116.765 50.1794L116.456 49.7665L116.319 48.8719L116.514 47.6562L117.361 45.89L118.746 45.5115L120.829 45.7524L123.142 46.7272L123.851 47.3351L123.84 47.8512L122.935 48.5967ZM130.365 44.399L128.419 45.0527L127.629 44.4908L127.503 42.7704L125.19 42.0249L124.08 41.5661L123.29 40.7289L123.462 40.4536L124.996 40.0752L127.537 41.6579L128.544 42.9539L130.388 43.3324L130.628 43.5159L130.365 44.399ZM39.9319 115.828L38.604 116.023L38.5467 115.576L40.9509 113.684L42.3703 113.386L42.851 113.58L41.8092 114.659L39.9319 115.828ZM73.1059 148.091H70.1868L69.2024 147.839L67.9776 147.151L66.7182 143.228L67.2677 141.84L67.8861 141.198L68.4814 140.648L70.0722 140.407L71.5493 141.141L72.0984 141.84L73.2432 144.513L73.4151 146.795L73.1059 148.091ZM58.7054 122.618L49.4444 124.189L46.308 124.04L46.0104 123.26L46.6972 122.767L49.2844 122.274L50.5434 118.512L46.743 116.757L46.5141 116.264L46.8918 115.439L47.3155 115.094L49.7536 114.211L50.7495 114.016L51.5736 114.12L53.2564 115.14L55.0538 117.239L57.5149 117.583L59.2092 118.512L58.7054 122.618ZM50.0512 134.328L50.7153 137.975L51.4479 140.258L51.4136 141.049L50.6123 142.139L46.8003 143.572H45.5524L45.5639 143.228L46.4684 141.737L45.7931 140.108L46.1934 138.824L45.8616 138.618L45.106 138.767L42.2672 140.797L41.3401 140.992L41.2828 140.602L42.0269 138.916L42.1642 137.826L42.6106 137.138L43.3889 136.496L44.3276 136.003L44.9917 135.957L45.7128 136.45L48.025 135.062L50.0512 134.328ZM53.554 137.631L53.0503 137.929L51.8828 137.884L51.4936 137.39L51.276 136.691L51.3333 135.406L52.0431 134.466L55.088 133.089L53.7832 132.596L53.7144 132.252L54.5958 131.071L57.9156 129.293L58.7512 128.949L59.5868 129.006L57.7894 132.206L53.554 137.631ZM51.734 66.6376L48.5746 71.3628L47.5101 71.5119L46.388 72.6932L43.3089 74.0237H45.9989L46.7087 74.5054L46.663 75.3999L46.1365 75.9734L42.5306 78.164L40.1153 79.0242L37.4708 81.3065H36.166L34.7809 82.7975L33.6818 83.4168H33.1096L32.3882 83.1301L30.9231 81.6965L33.8534 80.2628L34.2198 79.4944L36.2229 78.6457L36.0741 78.4048L32.9608 77.2579L31.7814 76.4551L31.9648 76.0651L33.4872 75.1705L32.7547 75.0673L32.2967 74.5971L31.4953 74.4021L31.1977 73.9319L31.175 72.785L31.4038 71.5578L32.4113 71.0302L32.7662 70.4682L33.1896 70.3191L34.5517 70.6059L35.9599 71.5578L37.6081 71.1793L39.5427 71.3628L39.6458 71.1334L38.3064 68.8052L38.5698 68.335L39.4169 67.7615L43.9727 66.11L49.6278 63.2771L51.0241 62.8527L51.4136 63.2312L51.9059 64.6993L51.734 66.6376ZM47.9566 105.22L47.2809 105.564L46.4684 105.518L45.587 105.025L44.5795 103.717L47.0864 102.8L48.1281 103.339L48.4257 103.958L48.403 104.646L47.9566 105.22ZM51.8028 90.1721L51.6652 91.4222L51.1845 92.8559L51.6767 94.4042L51.7113 95.4594L52.6727 95.8493L53.2337 96.331L57.4691 96.9045L61.4869 96.7095L62.2083 97.1912L62.254 97.9138L61.5672 98.6936L59.2892 100.139L56.4731 102.467L55.626 102.949L54.7219 102.995L54.1608 102.754L53.8632 98.5904L50.9672 99.1295L48.5861 99.0721L47.2925 98.5904L46.4453 97.627L44.7625 95.1268L39.4854 94.106L38.0891 92.7641L37.6426 91.9039L37.9057 91.4681L39.0278 90.4588L40.4014 90.7914L41.3055 90.5965L41.8208 90.1262L41.8438 89.7363L41.1567 88.8761L41.1682 88.5894L46.6172 87.4769L47.1209 85.7106L48.3457 85.5616L49.6278 86.1465L51.4136 87.9586L51.8028 90.1721ZM27.9467 85.2748L30.3851 86.8117L28.1986 89.4037H25.0964L20.7807 87.5342L20.8037 87.1443L21.1702 86.5708L21.8455 86.0891L22.5896 85.9974L23.6313 86.33L25.2222 85.8024L26.4358 85.9974L27.9467 85.2748ZM26.0694 101.01L25.0734 101.159L23.8601 101.01L23.0587 100.575L22.4177 98.8886L22.3146 97.822L22.7499 95.8952L22.8069 93.6358L25.4283 93.5326L26.0694 93.8652L26.0924 100.724L26.0694 101.01ZM21.9712 105.174L19.9797 105.564L19.2471 105.369L19.1094 104.979L19.659 104.015L21.2387 103.671L22.2804 104.21L22.4177 104.692L21.9712 105.174ZM45.5524 187.453L43.6181 187.304L42.1642 187.808L41.214 188.267L40.3668 188.21L37.8257 188.37H35.3761L35.0785 187.602L35.6165 185.262L35.1354 184.654L32.8689 184.356L32.0563 183.794L30.7858 182.223L30.5682 181.466L30.4536 180.457L29.1715 179.138L27.5348 178.174L26.5273 178.129L24.5012 179.7L22.8299 181.26L23.3794 182.028L23.8259 183.037L22.8642 183.794L20.1627 185.526L19.7047 186.18L18.9264 186.535L17.6786 186.031L14.5537 186.134L13.134 185.882L11.52 184.609L7.43345 183.748L6.78088 181.764L6.04832 181.42L1.52681 177.979L1 176.81L1.62986 176.156L3.4611 175.101L9.44809 173.38L10.4098 172.727L10.6044 172.119L8.88705 171.419L7.41039 170.662L6.94123 170.158L6.88394 169.699L7.83414 169.148L9.60844 169.102L10.9363 169.355L12.058 168.85L14.0957 168.345L15.3893 167.692L16.6599 166.029L17.9077 164.526L18.045 163.723L19.2813 160.868L19.8193 160.168L23.6083 158.321L24.4669 159.365L26.2985 159.617L28.0271 158.665L30.099 155.718L31.4495 155.569L32.9377 155.764L35.8795 155.42L41.134 154.066L43.4693 154.02L46.6972 154.72H49.1241L51.2075 156.819L52.2262 160.122L54.7677 163.425L58.2474 166.281L58.259 167.99L56.9654 168.953L54.2297 170.112L54.2639 171.362L55.9694 170.708L57.4918 170.456L61.178 170.708L62.3798 172.015L63.1469 173.885L63.5934 175.445L63.1927 177.165L62.2883 176.615L61.338 175.101L60.2736 174.39L58.9342 174.034L59.438 176.11L59.0715 178.931L59.6556 179.184L61.4184 179.241L60.1248 182.074L57.7325 182.888L54.9392 183.186L54.2181 184.207L53.6571 185.526L52.1462 187.453L50.2343 188.565L47.8762 188.37L45.5524 187.453ZM165.737 289.39L163.642 290.457L163.024 291.684L162.497 292.166L161.192 292.487L159.887 292.544L154.862 290.032L153.637 290.136L154.782 288.966L158.01 288.06L159.761 286.832L163.836 288.002L165.737 289.39Z",
      "width": 234,
      "height": 311
    }
  }

  export let index
  export let country
  export let p

  const mapId = crypto.randomUUID()
  const maskId = crypto.randomUUID()

  const { d, width, height } = data[country]

  const y = scaleLinear()
    .domain([ 0, 1 ])
    .range([ 0, height ])

</script>

<svg id="fm-{index}" class="map" width="100%" height="100%" viewBox="0 0 {width} {height}" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <path id={mapId} {d} />
  </defs>

  <mask id={maskId}>
    <use href="#{mapId}" fill="white" stroke="black" stroke-width=10 />
  </mask>
  
  <use class="map__background" href="#{mapId}" />

  <rect class="map__bar" x=0 y={height - y(p)} width="100%" height={y(p)} mask="url(#{maskId})"/>
</svg>

<style lang="scss">

  .map {
    &__background {
      fill: var(--clr-primary);
      stroke: black;
      stroke-width: 2;
    }

    &__bar {
      fill: var(--clr-secondary);
    }
  }
</style>