<script>
  import { scaleLinear } from "d3"

  const data = {
    "italy": {
      "d": "M51.8238 63.117L52.6686 63.8472L54.5863 64.6345L59.4946 63.5734L62.5082 62.5579L64.7112 61.4396L66.0694 61.6679L71.0007 63.2881L72.5759 62.4438L75.9891 60.2644L76.48 59.0892L79.0027 55.5635L79.0595 54.7191L77.7925 52.4828L78.1235 52.0378L81.4224 49.7444L83.0321 47.7362L84.7669 46.4012H86.0228L86.3993 46.8462L86.6279 47.7932V51.6499L87.2326 52.8251L90.0637 55.6206L92.027 57.1838L96.4786 58.2448L96.6841 58.804L95.6227 60.8806L98.4534 63.4022L98.9899 65.1936L100.303 66.2662L101.992 65.7641L102.472 64.7486L101.764 63.0599L101.125 61.2685L101.17 60.2644L101.65 59.0892L102.734 57.4575L105.85 53.658L106.912 51.5357L106.992 48.1241L106.855 45.4542L107.893 44.7809L110.245 45.283L110.964 45.226L111.409 46.9033L112.539 49.5275L113.784 50.8626L115.062 51.2049H116.58L120.176 49.5846L122.55 48.9114L123.909 49.0825L124.776 50.1893L126.739 53.0989L127.744 53.3842L128.897 53.0418L129.319 52.5969L128.806 51.4787L128.212 49.0825L127.39 47.177L126.443 46.3441L126.192 45.1689L126.614 43.1721L127.139 41.4378L128.372 40.9928L129.879 40.776L131.865 42.556L134.136 43.1721L135.837 43.058L136.043 41.9969L135.883 40.833L134.81 39.384L134.844 37.102L135.757 32.9373L136.396 33.2682L138.908 33.3252L141.693 33.542L143.497 35.2649L145.232 35.8241L147.743 35.9838L149.341 35.767L150.106 35.1509L150.962 33.1541L152.491 30.6553L155.185 29.4344L159.808 29.1606L162.183 28.7156L164.603 28.7726L166.418 29.1606L168.29 29.1035L172.981 27.392L177.878 26L178.609 26.2282L178.734 26.7188L177.912 27.7229L177.125 29.1035L177.867 30.7124L180.857 33.8729L182.547 36.3261L184.202 38.1517L186.508 39.0987L189.51 39.7149L192.032 39.9317L194.761 40.6049L203.847 42.3278L208.447 42.7728L211.952 42.8869L217.237 44.005L216.837 45.8421L215.889 46.2871L214.098 47.4053L212.054 48.8544L210.308 50.5317L209.897 52.3116L210.536 53.4868L211.095 53.8862L211.792 53.5439L212.796 53.7721L214.189 54.3883L216.403 55.0614L216.54 55.6662L216.152 56.4535L214.554 57.8569L213.15 59.4771L213.036 60.4356L213.276 61.1545L213.846 61.6109L216.084 61.3826L216.495 61.9988L215.73 66.095L216.141 66.8252L218.173 67.4985L219.691 68.4569L222.602 71.0926L223.937 73.2377L223.184 73.9109L221.494 74.2989L220.124 74.082L221.563 72.7813L217.328 68.1716H215.616L213.424 70.1455L206.781 68.1146L205.582 68.9589L204.806 70.5335L202.694 72.496L199.601 73.3404L196.142 75.4855L192.558 77.0031L189.75 78.1897L188.106 77.9615L190.549 75.4855L189.373 75.4285L186.063 77.1742L184.179 78.6917L183.722 81.1791L183.38 85.3552L184.989 86.4277L188.083 91.916L191.496 94.2322L191.017 96.5029L190.32 98.26L188.437 99.7889L186.633 98.6593H185.64L185.161 102.288L187.25 111.849L189.978 118.627L192.455 121.548L197.968 126.169L203.607 128.577L214.018 136.37L219.588 138.777L221.06 140.158L224.782 146.137L228.138 153.108L231.95 164.028L234.553 169.47L239.416 175.552L249.29 184.326L258.09 190.784L266.161 194.755L272.325 195.451L286.593 194.573L289.116 194.926L291.89 196.033L292.677 198.783L291.901 200.643L289.002 202.582L286.148 205.264L286.08 208.949L289.162 211.528L303.647 218.397L318.349 224.147L323.064 227.091L328.577 231.678L341.624 237.988L343.942 241.057L352.172 247.618L355.996 252.764L357 256.735L355.768 260.705L355.265 263.558L354.203 266.41L350.825 265.338L346.921 262.428L340.392 250.756L330.186 249.569L328.064 248.679L324.251 246.671L323.954 245.37L322.881 243.716L321.991 243.122L318.041 242.769L315.575 244.663L312.767 249.158L309.731 255.605L306.832 265.098L306.935 268.909L309.206 272.652L315.279 274.728L320.062 278.071L323.338 281.529L324.285 289.881L325.986 294.662L324.217 297.354L320.301 296.704L315.347 298.438L311.9 301.485L310.61 304.429L311.569 312.108L311.033 314.994L304.538 320.517L301.353 326.188L300.565 328.527L299.435 331.242L290.623 331.311L288.397 327.99L287.963 323.107L289.264 320.106L292.381 318.657L294.013 312.404L293.02 307.909L294.196 305.923L295.234 304.543L297.62 303.71L301.056 302.923L300.873 296.636L298.019 293.772L296.787 289.824L294.915 282.419L289.801 273.062L286.833 264.744L284.744 260.648L281.765 258.458L276.719 258.515L274.14 257.921L264.745 252.114L264.117 251.223L264.015 249.752L265.339 247.378L264.174 244.309L262.839 241.354L260.978 238.809L258.924 237.52L254.974 238.342L253.616 238.935L251.082 238.695L249.198 239.813L248.091 239.882L250.853 235.455L249.94 234.451L246.744 232.625L242.52 232.328L241.39 232.089L240.728 233.275L239.941 232.625L239.895 230.685L234.359 221.854L230.854 218.271L229.234 217.632L226.312 218.397L221.186 216.811L218.196 216.457L216.643 216.868L214.2 217.986L212.944 217.279L212.408 216.103L207.717 212.406L201.918 210.364L190.263 198.84L186.667 194.515L179.453 189.792L174.693 182.866L170.949 180.367L165.664 178.336L164.477 178.576L162.947 179.329L161.76 179.443L160.79 178.576L161.658 177.64L162.742 177.241L162.217 174.628L155.939 167.782L152.32 165.648L151.327 164.256L150.483 162.407L149.683 161.244L147.994 160.502L146.624 160.673L144.661 160.205L144.581 156.919L144.809 154.432L144.41 152.298L142.275 146.776L138.714 142.052L136.282 130.87L134.547 127.721L130.86 125.313L122.699 122.689L111.215 115.489L108.841 115.375L101.969 112.591L97.7686 112.135L92.5178 114.576L86.2739 121.491L81.2057 128.634L79.3452 130.06L72.5989 132.524L66.5261 133.677L66.3662 131.84L66.1265 130.471L67.0625 128.919L68.7291 127.15L70.1904 124.857L70.761 123.26L70.4416 122.176L69.6425 120.567L68.6378 120.453L62.9534 121.776L61.5721 121.422L57.2003 119.369L52.5543 116.744L50.7509 114.919L50.043 113.093L50.4541 111.906L50.0545 110.765L49.0844 109.225L49.8375 107.468L51.2076 105.243L51.8809 103.771L53.0451 103.372L53.5475 102.459L52.4972 98.8305L51.9381 98.26L51.1048 97.8036L49.8263 97.7466L47.623 97.0163L45.945 95.7612L45.5228 94.0611L44.6439 92.4751L43.1484 90.9576L43 89.3716L44.507 88.5158L46.7671 88.4588L48.3194 88.801L51.744 86.1996L52.9995 85.9713L54.1526 85.4123L54.9172 81.8523L55.6822 80.7797L55.8417 80.1637L55.0886 79.4334L52.1892 76.8889L50.7394 74.2989L48.6392 71.435L46.6985 70.1455L46.2989 69.1301L46.162 67.8408L46.5616 66.7682L49.8263 65.0338L51.8238 63.117ZM196.096 195.919L196.085 195.691H195.811L195.822 195.862V195.976L196.096 195.919ZM192.968 129.261L193.585 127.55L193.231 126.34L191.61 126.568L190.617 128.12L191.439 129.489L192.968 129.261ZM141.83 163.845L142.732 165.123L142.857 165.876L142.355 166.743L142.732 168.649L140.437 167.029L137.264 167.839L135.324 167.668L134.696 166.275L135.107 165.408L138.132 165.237L139.125 164.838L140.974 165.009L141.83 163.845ZM237.384 236.219L236.288 236.516L235.615 236.162L235.204 235.626L235.58 234.337L237.966 235.101L237.92 235.809L237.384 236.219ZM196.039 372.57L194.818 372.935L193.037 371.771L192.855 370.071L193.117 369.523L195.263 370.31L195.913 371.896L196.039 372.57ZM286.046 321.544L284.527 325.515L283.774 327.021L278.078 336.674L277.564 338.91L277.256 341.329L276.731 343.451L276.012 345.505L275.327 348.049L275.612 350.948L276.092 352.34L276.913 353.309L278.215 354.165L279.254 355.5L277.815 356.767L279.687 359.197L281.114 360.658L281.411 362.107L281.502 363.567L278.831 366.363L277.781 367.823L277.142 369.706L276.971 371.588L277.37 373.3L277.382 375L274.505 374.76L271.377 373.722L268.444 374.213L264.026 372.205L262.474 371.896L260.99 371.109L256.983 365.028L253.97 362.415L250.796 360.407L247.634 360.292L244.507 360.532L241.665 359.323L235.797 355.192L229.61 351.86L226.916 349.738L225.683 348.289L224.302 347.319L220.821 346.349L217.556 344.113L216.221 343.987L213.184 344.227L211.655 344.113L210.091 343.326L206.906 340.667L204.806 337.039L204.246 335.464L205.342 331.311L206.735 327.386L208.093 326.245L209.657 325.457L210.627 324.259L211.404 322.867L214.668 326.964L216.152 327.99L217.465 327.751L219.851 326.302L219.942 324.682L222.567 322.571H225.969L227.601 322.924L228.572 324.796L229.93 325.343L231.459 325.64L236.71 329.2L238.16 329.736L239.587 329.862L243.388 328.356L246.288 327.808L252.6 328.595L255.956 327.694L258.319 327.625L261.641 326.245L264.14 323.951L265.533 323.415L266.937 323.232L270.544 323.347L274.185 323.894L275.658 323.347L276.788 321.852L278.261 321.179L279.904 321.669L283.888 319.079L285.68 318.954L287.449 319.924L286.046 321.544ZM125.564 230.263L126.968 232.443L130.289 241.354L130.655 243.248L130.187 245.256L129.502 246.614L126.82 251.109L127.459 254.841L128.6 257.145L128.897 259.701L128.486 262.907L127.584 282.419L126.899 285.876L126.466 288.865L124.525 289.824L121.854 288.808L118.578 287.131L117.071 287.256L115.599 287.85L114.343 287.314L113.087 286.355L112.516 293.11L111.124 295.86L109.024 297.594L106.866 297.72L104.675 297.115H102.882L101.41 295.86L100.189 293.589L98.3851 290.782L96.4675 287.496L96.1707 284.564L95.6227 278.071L96.0449 276.634L96.7413 275.265L96.9924 272.355L96.6159 269.799L97.1408 268.909L98.2138 269.799L98.9443 269.502L98.8073 268.19L98.9899 265.817L97.4948 263.797L95.2231 263.136L94.9493 261.059L95.0517 258.982L96.2163 257.625L96.5242 255.845L96.3873 250.276L94.6295 248.268L93.9447 245.188L93.0201 243.248L91.4449 241.24L89.6982 239.642L88.5225 238.102L88.1686 234.04L88.5912 230.617L89.0935 229.213L89.6641 229.385L91.4104 231.096L92.8146 231.45L95.5426 231.861L98.2253 231.324L101.41 229.795L104.503 227.97L108.829 222.504L111.569 221.443L112.985 219.983L113.361 218.043L114.548 217.575L116.032 219.446L117.813 219.629L120.576 221.158L121.763 222.675L122.87 224.444L123.84 225.209L124.879 225.676L125.084 226.087L124.274 226.498L123.429 228.563L124.023 229.145L125.564 230.263ZM98.2594 292.277L96.8782 295.677L95.189 293.292L95.0061 291.193L95.2688 290.6L97.1865 291.501L98.2594 292.277ZM90.5089 224.912L89.7327 226.441L88.5111 226.327L88.9336 225.209L89.9609 222.915L91.3191 222.151L91.9012 222.801L91.308 224.147L90.5089 224.912Z",
      "width": 400,
      "height": 400
    },

    "spain": {
      "d": "M302.972 239.839L302.413 240.263L300.716 239.839H298.072L297.97 238.453L298.334 237.491L298.802 236.472L300.419 238.453L302.972 238.82V239.839ZM343.042 201.242L345.582 202.376L348.192 201.368L349.604 201.666L351.017 202.204L351.336 204.415L350.151 206.854L348.51 209.305L347.052 211.997L345.879 215.112L343.554 216.967L341.413 218.044L336.878 215.765L334.235 215.169L333.471 214.333L332.776 210.863L331.637 209.786L329.848 209.305L328.356 210.141L326.407 211.997L325.257 210.141L323.662 209.844L323.001 208.71L322.978 207.335L333.654 199.043L336.718 197.188L343.327 195.046L344.352 195.344L343.532 196.661L343.543 197.188L344.397 197.795L344.227 198.803L343.395 199.639L343.042 201.242ZM372.869 199.456L372.414 199.879L364.381 195.882L361.761 195.47L361.089 194.874L361.146 192.79L361.317 191.897L366.637 191.473L370.967 192.904L373.382 196.89L373.587 197.554L372.869 199.456ZM299.052 231.307L298.129 233.403L294.164 232.681L293.219 231.776L294.05 229.383L295.269 229.073V227.401L296.477 225.66L302.105 224.275L303.439 225.477L303.723 227.161L300.362 230.826L299.052 231.307ZM215.676 78.8769L215.767 80.0337L216.656 81.6486L217.749 82.2212L219.948 83.0343L221.589 83.1489L223.879 83.5612L225.429 84.4775L225.508 85.8747L225.03 87.4896L224.107 88.9328L223.549 90.101L224.096 90.7309L224.916 91.2577L225.736 91.3723L226.385 91.2005L226.841 90.33L227.673 89.2305L228.14 89.116L228.129 89.6886L228.493 90.4445L231.33 91.7731L237.46 94.1553L239.841 94.2127L241.858 94.499L242.405 95.484L246.335 99.2062L247.258 99.0916L249.001 99.149L251.12 98.8512L252.59 98.164L253.593 98.2785L254.698 99.0344L255.985 99.6071L257.729 100.833L259.198 102.344L260.201 102.871L266.353 101.818L267.743 102.745H269.213L270.865 102.516L274.443 102.986L277.382 102.871L277.655 102.459L277.929 99.149L278.385 97.9235L279.023 97.6371L280.766 97.8662L287.021 99.8476L289.596 101.062L292.079 102.047L294.29 102.173L295.668 102.803L297.719 106.009L297.446 107.578L297.548 108.163L297.833 109.262L297.753 110.488L298.3 111.312L299.223 111.427L300.511 111.129L301.798 110.671L304.179 109.331L304.817 109.09L308.793 110.671L310.548 111.656L311.209 112.824L312.04 113.935L313.248 114.107L314.889 112.996L317.544 111.828L321.976 112.881L326.966 114.393L329.096 114.576L329.176 113.809L329.529 112.767L330.35 112.297L331.546 112.125L333.289 111.599L335.203 110.671L337.129 110.316L339.259 110.957L341.845 111.541H343.406L344.09 113.637L345.389 114.45L345.879 116.26L343.691 117.256L342.301 117.371L341.982 120.532L342.552 121.46L343.862 122.284L344.249 123.212L344.603 127.896L342.062 130.714L338.405 133.875L320.688 144.034L316.473 148.97L314.912 150.093L301.673 153.219L292.319 156.575L287.864 157.755L282.315 163.539L279.729 165.909L281.871 166.562L284.298 169.334L283.466 170.582L279.934 172.472L278.35 173.067L277.507 172.77L276.676 173.01L270.728 183.089L265.328 190.408L262.331 193.557L259.346 198.264L252.773 210.565L252.67 214.093L255.951 226.313L257.729 229.554L260.372 232.257L265.362 234.548L266.49 236.827L264.792 239.003L259.893 242.852L251.303 248.04L247.611 252.14L246.848 256.126L244.285 257.935L243.327 263.502L241.801 267.189L241.413 268.404L239.795 271.255L239.602 273.26L242.245 276.111L240.912 277.326L239.579 277.864L236.548 278.173L226.294 278.539L217.989 284.61L213.773 290.027L209.979 300.083L205.353 306.061L203.348 307.161L200.227 304.538L196.318 304.103L192.502 305.019L190.565 307.035L187.409 308.203L184.367 307.218L177.896 306.668L174.933 306.794L170.342 308.444L166.445 307.344L159.871 306.794L145.55 308.077L143.818 308.753L141.961 311.261L137.301 315.533L130.42 315.716L124.062 318.477L122.49 320.252L119.71 325.097L118.764 328.647L118.286 328.716L117.636 327.857L116.577 328.097L116.041 330.857L113.614 332.094L111.689 332.518L106.87 330.308L102.927 326.998L100.831 326.815L97.5156 321.661L96.0803 318.351L95.1231 314.869L95.3509 313.517L95.089 312.361L92.0811 310.952L91.3976 307.711L93.8015 303.553L95.6586 301.732L96.8206 301.24L94.0522 301.423L91.9785 304.103L89.529 299.774L79.4003 291.367L80.1183 289.477L80.0612 288.378L78.2723 290.634L77.0193 291.241L71.7099 290.875L65.5915 291.917L64.2588 283.155L63.6093 279.811L63.4838 277.681L65.2612 272.71L67.0386 270.648L69.4426 266.468L72.405 262.952L75.3559 262.173L76.7001 261.623L77.828 258.966L78.5571 256.664L78.0901 256.423L74.6719 256.904L68.7476 247.307L68.9868 245.749L69.8185 243.459L70.4794 240.618L70.6501 238.339L72.3135 236.415L74.8315 234.491L76.9963 231.719L78.1128 228.959L78.4775 226.496L77.3155 224.756L73.9543 223.793L70.7186 216.784L70.1147 212.421L69.3856 211.94L67.2893 209.97L65.3638 206.259L65.1016 205.663L67.2778 205.01L75.9939 204.953L77.8965 204.174L78.1812 203.876L79.8676 200.945L81.7131 196.18L82.1805 193.259L81.6561 192.068L78.8533 189.159L78.7963 188.266L79.3092 186.891L81.041 185.414L83.4221 183.742L84.7781 182.264L84.5389 181.131L83.8324 179.951L83.7753 178.874L84.2882 177.511L84.5274 172.838L84.9488 171.647L84.6185 167.444L84.1741 164.02L82.4652 159.587L82.864 158.579L83.7298 157.755L86.4756 156.22L88.8225 152.566L92.1722 149.566L96.4221 147.149L99.3727 144.446L100.649 142.385L101.492 141.8L101.241 140.861L100.74 139.453L99.1108 138.101L97.0031 137.334H94.5991L93.1294 137.105L92.7988 135.982L92.9813 133.107V130.244L92.571 128.95L91.4886 127.954L89.2668 128.251L87.4439 127.427L85.9742 127.255L85.1199 127.839L80.9726 127.667L79.2407 127.198L77.9646 126.671L77.2129 126.957L76.7341 127.541L76.609 128.423L76.2901 129.534L74.6834 130.588L71.22 131.642L68.4513 131.527L65.8992 130.828L65.0905 130.244L63.9055 129.775L58.6188 130.359L57.9808 129.946L56.1808 131L53.4576 132.294L51.9767 132.352L51.4298 132.111L51.2702 131.527L50.2449 129.534L50.5637 128.48L52.8084 125.377L52.6603 124.678L51.7716 123.682L51.0992 122.227L50.8488 121.517L49.4702 121.402L48.0572 122.158L42.452 123.682L41.1415 124.208L38.6805 125.732L36.0829 128.011L34.2143 128.48L33.5081 127.782L33.5652 122.456L36.6638 118.951L38.7945 116.787L37.8832 116.386L35.6729 116.443L35.8436 114.748L36.983 113.992L38.0769 112.183L36.9146 111.369L36.0488 110.201L36.1854 107.109L36.5157 105.838L36.2995 104.498L31.7193 106.353L30.5343 106.067L30.6369 103.742L33.2801 100.248L33.6107 99.2062L30.6939 98.6794L28.5747 96.9385L27.3557 95.4266L26 93.2277L26.0911 91.2577L27.7771 86.6764L29.9533 85.2907L31.8218 84.4775L35.8096 81.305L40.9934 81.8776L44.3205 81.2477L47.3166 79.6213L49.0714 79.2204L51.7831 77.8347L51.7716 75.9334L50.9284 74.4903L51.8057 73.1617L54.8932 71.4896L58.357 69.3593L62.2077 68.9585L66.2184 67L68.8046 68.2599L71.106 67.859L73.6921 69.302L77.0304 72.6464L82.089 74.0322L86.2478 72.9327L93.3686 72.7609L97.0146 73.1617L103.429 72.36L107.075 72.6464L112.965 70.9742L117.568 73.0473L126.398 74.0322L131.65 75.7616L146.382 78.5906L151.771 78.6478L159.302 77.0329L162.526 75.8189L165.443 76.5634L169.761 75.1775L171.857 75.4065L174.466 77.4338L183.934 80.0909L186.441 77.8347L188.275 77.3193L195.02 78.7051L201.844 81.534L205.41 81.7058L210.629 80.9499L214.856 79.106L215.676 78.8769Z",
      "width": 400,
      "height": 400
    },

    "unitedKingdom": {
      "d": "M210.457 296.947L208.706 298.22L202.994 299.481L200.544 300.8L196.16 303.748L195.381 304.012L188.914 303.278L184.174 299.481L181.187 297.899L179.905 297.692L178.588 298.162L175.738 298.633L172.888 298.587L174.398 296.798L176.413 295.8L172.04 295.112L170.758 294.584L169.419 293.38L165.973 293.162L164.325 293.483L161.429 295.112L156.976 296.844L151.71 294.424L150.714 293.38L150.783 291.327L150.062 289.698L148.62 289.182L150.588 287.083L152.878 285.661L157.903 284.25L165.653 281.016L169.911 279.606L173.929 277.197L175.601 275.74L176.848 273.71L178.039 271.267L179.802 269.237L178.187 268.767L177.466 267.265L177.764 265.751L178.485 264.409L177.936 262.7L176.791 260.934L176.905 259.592L177.203 258.09L174.215 258.193L171.136 258.663L168.366 259.695L165.676 261.094L163.363 261.347L163.398 260.211L164.474 258.812L167.175 256.851L170.129 255.199L171.193 253.915L172.006 252.47L173.483 251.277L177.295 249.063L184.426 246.597L185.536 246.448L188.33 246.758L191.054 246.391L193.458 245.473L195.931 245.267L201.231 247.882L199.708 243.879L202.101 242.95L205.512 246.552L206.783 246.907L209.507 246.391L208.42 245.772L207.229 245.726L205.626 245.21L204.367 244.028L202.158 240.393L202.375 238.237L203.864 235.989L205.604 233.89L204.253 233.488L203.085 232.72L202.879 230.621L203.337 228.843L206.336 227.215L207.229 224.772L207.698 222.077L207.218 220.861L204.264 221.067L202.822 221.572L201.54 222.386L200.189 222.329L196.629 219.335L194.568 217.11L190.985 212.408L190.551 209.587L193.653 203.543L198.358 199.677L203.749 198.324L202.753 198.072L194.546 198.026L191.764 198.519L189.211 200.079L187.769 200.584L186.338 200.733L184.895 201.535L183.602 202.637L182.16 203.336L179.389 203.141L178.05 203.393L177.146 202.74L176.413 201.685L175.337 201.432L174.158 201.73L171.674 203.141L169.133 203.99L166.134 203.084L162.173 201.432L161.395 202.029L160.41 203.588L159.826 205.951L157.136 203.898L154.801 201.077L154.022 199.379L154.103 197.418L155.385 196.615L156.781 197.315L159.048 192.67L163.443 186.626L165.012 184.894L166.088 182.6L165.973 181.063L165.104 179.824L161.372 176.946L161.463 174.572L161.978 171.957L163.112 170.374L163.535 170.076L168.686 170.122L166.717 169.284L162.825 166.922L162.94 166.085L163.924 163.871L163.501 164.123L162.642 165.098L160.891 167.564L159.872 168.149L157.033 168.745L156.484 169.927L155.969 170.271L154.56 170.374L154.103 171.509L153.759 171.601L153.393 170.374L153.473 168.355L154.126 166.474L155.259 165.052L159.448 161.761L157.422 162.793L152.74 165.844L150.348 167.805L149.73 168.493L149.467 169.089L149.432 169.732L150.371 173.287L149.97 174.916L145.62 185.788L144.819 186.878L144.132 187.429L143.457 187.578L141.545 187.383L140.664 186.534L140.698 185.639L141.179 184.24L142.976 179.079L143.789 177.645L144.922 176.303L147.269 173.975V173.826L145.677 174.273L145.014 174.124L144.625 173.677L145.162 166.819L146.502 164.559L147.131 161.268L148.322 158.469L149.65 156.416L150.749 153.824L152.202 152.654L152.683 150.899L154.332 148.996L155.648 147L154.984 147.195L146.845 152.367L144.739 153.342L142.026 153.09L139.908 152.505L138.317 151.244L137.676 148.904L135.696 148.846L133.99 148.411L134.001 148.124L136.291 146.805L139.931 146.369L143.399 144.328L140.423 142.917L140.686 142.481L143.377 141.323L146.834 137.354L147.727 133.73L146.158 132.033L145.632 130.932L142.575 129.682L142.083 128.087L142.53 127.227L143.548 126.356L145.128 125.69L147.612 125.014L145.437 124.349L144.659 123.534L144.052 122.376L144.087 121.665L145.369 118.648L146.078 117.41L147.452 115.827L153.313 115.93L154 115.208L154.652 115.162L157.64 115.827L157.182 115.116L152.454 111.354L152.077 110.643L153.542 108.647L153.668 107.741L153.542 106.755L153.977 106.044L155.534 105.665L160.25 105.711L161.395 105.379L160.948 104.381L159.872 103.108L159.746 102.064L160.032 101.124L160.193 99.1854L160.387 98.3825L161.566 97.1095L162.471 96.731L163.695 96.5016L166.271 96.9259L167.221 97.4421L168.309 98.6692L169.133 98.5201L172.418 97.2585L173.391 97.0636L174.639 98.5775L180.191 97.3503L187.574 96.8342L192.05 96.0314L196.755 95.7446L201.151 94.85L205.752 95.2744L205.901 95.7905L205.638 96.5016L204.459 98.4743L204.562 100.699L204.298 101.399L203.715 102.202L201.975 103.762L197.442 105.987L189.085 111.113L184.117 113.682L183.43 114.921L183.053 116.641L185.891 116.974L187.013 117.547L186.338 118.408L181.919 121.424L180.523 124.199L183.877 124.108L186.59 123.58L192.119 121.848L197.213 120.564L199.662 120.518L204.459 121.516L205.523 121.562L207.572 121.091L209.621 121.045L223.495 121.332L227.342 120.747L229.952 121.47L232.047 123.248L234.038 126.505L233.958 127.032L232.699 128.523L230.387 130.404L228.372 133.008L227.777 134.407L227.422 135.944L226.746 137.354L222.774 144.041L218.837 147.734L217.131 150.406L214.944 152.505L212.941 153.824L210.766 154.707L204.47 155.682L202.719 156.324L200.624 157.494L198.38 158.079L200.944 157.987L203.52 157.345L208.156 157.104L213.491 159.352L212.953 161.176L210.766 162.644L205.878 162.885L201.242 166.085L199.147 167.071L196.984 167.564L194.248 167.415L189.291 166.578L187.162 165.695L189.108 167.117L191.249 167.908L204.15 169.732L204.894 169.537L209.003 167.61H214.487L224.881 171.108L227.834 173.826L232.104 177.691L234.405 179.228L236.145 180.616L237.118 182.646L239.121 189.516L241.307 196.214L244.341 203.543L245.657 205.55L247.5 206.96L256.727 210.286L258.73 211.353L262.336 214.53L265.781 217.925L268.986 220.505L272.444 222.593L270.749 223.705L269.57 225.437L270.498 227.777L271.848 230.013L274.63 233.637L277.183 237.571L276.244 236.963L275.317 236.654L273.955 236.7L272.684 236.551L270.314 235.323L268.025 233.787L263.538 234.406L261.077 234.142H258.879L263.023 235.014L267.521 235.117L277.435 241.723L280.846 245.623L282.815 250.818L281.453 253.192L279.323 254.683L277.366 256.438L275.488 258.399L281.04 261.301L282.243 261.198L283.513 260.785L284.623 259.798L286.661 257.424L287.68 256.599L291.091 256.289L293.999 256.438L296.895 256.954L299.459 256.805L304.576 257.837L307.152 258.766L313.768 262.907L315.164 265.189L315.874 268.148L316 271.417L314.924 274.433L313.676 277.151L312.932 280.649L312.44 281.957L311.673 282.897L308.182 285.719L305.869 286.82L304.919 286.349L303.878 286.395L303.798 287.083L304.85 288.494L304.942 290.226L302.893 291.487L300.741 292.015L297.295 291.327L292.396 293.69L295.933 294.905L296.632 296.213L295.784 298.484L293.632 299.527L291.126 299.952L288.63 300.055L286.558 300.64L284.578 301.695L287.073 301.11L288.802 301.638L289.935 303.541L290.885 304.126L295.819 304.918H298.761L304.633 304.436L307.403 304.493L308.445 304.803L308.456 306.397L308.067 310.366L307.289 311.157L299.608 314.437L297.971 316.777L297.547 318.153L293.037 317.947L290.954 319.38L287.233 320.39L284.452 321.456L281.682 322.787L279.335 323.154L269.513 321.559L263.526 321.72L255.445 323.108L253.361 322.832L250.328 321.559L247.111 320.653L243.471 320.286L240.277 319.059L242.246 321.399L237.793 323.635L235.79 324.06L233.706 324.002L229.356 324.645L225.361 324.323L225.945 325.929L226.976 327.317L226.186 327.902L225.224 328.062L217.669 326.996L216.535 327.202L215.654 328.166L212.872 327.684L210.205 326.032L207.355 324.908L204.413 324.381L201.975 324.599L192.188 327.156L190.127 329.771L189.085 333.453L187.608 336.722L185.193 339.233L182.48 339.612L179.916 337.846L175.074 335.919L173.368 334.577L172.842 334.519L172.315 335.001L170.381 335.598H168.377L165.309 336.125L159.849 337.685L157.64 338.752L152.923 341.699L151.928 342.502L150.176 345.461L147.532 346L145.242 344.119L142.553 343.419L139.737 344.119L137.951 345.083L137.195 344.28L137.172 342.617L139.336 340.575L144.979 339.073L149.902 335.116L152.42 332.707L153.336 331.365L154.583 330.517L156.072 330.196L156.907 328.693L163.787 322.729L164.428 321.399L164.852 318.956L165.447 316.616L170.953 315.079L173.689 310.148L174.387 309.781L182.034 308.875L187.654 308.932L193.263 309.884L196.114 309.987L198.976 309.62L201.254 308.301L205.237 303.541L207.446 301.431L209.976 299.527L212.346 297.371L216.215 293.38L213.605 294.745L210.457 296.947ZM175.337 246.035L176.264 246.597L178.817 246.494L177.924 247.733L175.166 249.121L173.254 250.451L171.01 251.587L169.934 250.302L168.663 250.359L166.866 247.836L166.649 244.132L169.144 243.157L172.624 243.214L175.337 246.035ZM217.417 79.1948L214.922 79.2406L216.238 77.6579L217.783 77.2335L220.668 77.4285L220.176 78.1167L217.417 79.1948ZM251.427 45.2692L250.866 45.5789L248.748 42.9066L250.362 39.8902L252.262 39.9705L252.571 40.7848L252.411 41.5073L251.381 41.5991L251.301 41.8285L251.598 43.2277L251.587 44.8563L251.427 45.2692ZM245.554 44.6728L246.012 46.4849L247.122 46.0376L248.862 47.8039H249.732L251.175 47.0813L250.843 48.7099L249.366 53.309L248.874 54.0889L248.622 55.4996L248.301 55.7749L247.798 58.5619L246.825 59.5253L245.921 61.7273L245.6 61.9567L244.329 61.0851L245.646 57.6902L246.149 55.729L245.84 54.7197L245.131 53.8137L243.219 53.7678L241.616 54.1807L241.307 53.6302L241.239 52.8961L240.838 52.6668L238.697 52.7126L238.136 52.5406L237.667 51.8524L237.598 51.3019L239.59 50.9005L241.341 51.0726L244.066 49.983L242.429 46.439L240.208 46.1294L239.739 45.7624L240.14 45.1775L241.341 44.8563L243.265 43.0442L244.387 42.7804L245.737 42.8148L245.554 44.6728ZM257.356 37.4932V37.8143L256.223 40.0164V40.8307L254.403 40.7389L254.082 40.521L253.773 39.2479L254.025 37.906L254.266 37.5391L254.826 37.4014L255.376 37.6767L256.326 37H256.807L257.356 37.4932ZM203.348 90.9505L202.055 91.2831H200.841L198.861 89.7348L198.163 88.565L198.346 87.8195L199.159 87.5787L201.093 87.9571L202.02 89.2646L202.078 90.1133L202.318 90.4459L203.52 90.7671L203.348 90.9505ZM208.648 92.3613L208.408 92.453L207.618 91.9369L206.279 90.1592L208.477 89.8266L209.438 90.0674L209.015 90.813L208.648 92.3613ZM205.935 84.5967L205.684 85.2504H207.366L209.782 85.8124L211.304 85.9042L212.506 86.6038L211.831 87.9112L211.006 88.2897L210.205 88.3356L207.332 87.0281L203.44 87.5787L202.639 87.3952L202.158 87.074L202.009 86.6038L202.043 85.6633L201.803 85.388L200.406 86.2712L199.765 86.1794L199.456 85.7665L199.319 84.8719L199.514 83.6562L200.361 81.89L201.746 81.5115L203.829 81.7524L206.142 82.7272L206.851 83.3351L206.84 83.8512L205.935 84.5967ZM213.365 80.399L211.419 81.0527L210.629 80.4908L210.503 78.7704L208.19 78.0249L207.08 77.5661L206.29 76.7289L206.462 76.4536L207.996 76.0752L210.537 77.6579L211.544 78.9539L213.388 79.3324L213.628 79.5159L213.365 80.399ZM122.932 151.828L121.604 152.023L121.547 151.576L123.951 149.684L125.37 149.386L125.851 149.58L124.809 150.659L122.932 151.828ZM156.106 184.091H153.187L152.202 183.839L150.978 183.151L149.718 179.228L150.268 177.84L150.886 177.198L151.481 176.648L153.072 176.407L154.549 177.141L155.098 177.84L156.243 180.513L156.415 182.795L156.106 184.091ZM141.705 158.618L132.444 160.189L129.308 160.04L129.01 159.26L129.697 158.767L132.284 158.274L133.543 154.512L129.743 152.757L129.514 152.264L129.892 151.439L130.316 151.094L132.754 150.211L133.75 150.016L134.574 150.12L136.256 151.14L138.054 153.239L140.515 153.583L142.209 154.512L141.705 158.618ZM133.051 170.328L133.715 173.975L134.448 176.258L134.414 177.049L133.612 178.139L129.8 179.572H128.552L128.564 179.228L129.468 177.737L128.793 176.108L129.193 174.824L128.862 174.618L128.106 174.767L125.267 176.797L124.34 176.992L124.283 176.602L125.027 174.916L125.164 173.826L125.611 173.138L126.389 172.496L127.328 172.003L127.992 171.957L128.713 172.45L131.025 171.062L133.051 170.328ZM136.554 173.631L136.05 173.929L134.883 173.884L134.494 173.39L134.276 172.691L134.333 171.406L135.043 170.466L138.088 169.089L136.783 168.596L136.714 168.252L137.596 167.071L140.916 165.293L141.751 164.949L142.587 165.006L140.789 168.206L136.554 173.631ZM134.734 102.638L131.575 107.363L130.51 107.512L129.388 108.693L126.309 110.024H128.999L129.709 110.505L129.663 111.4L129.137 111.973L125.531 114.164L123.115 115.024L120.471 117.307H119.166L117.781 118.797L116.682 119.417H116.11L115.388 119.13L113.923 117.696L116.853 116.263L117.22 115.494L119.223 114.646L119.074 114.405L115.961 113.258L114.781 112.455L114.965 112.065L116.487 111.171L115.755 111.067L115.297 110.597L114.495 110.402L114.198 109.932L114.175 108.785L114.404 107.558L115.411 107.03L115.766 106.468L116.19 106.319L117.552 106.606L118.96 107.558L120.608 107.179L122.543 107.363L122.646 107.133L121.306 104.805L121.57 104.335L122.417 103.762L126.973 102.11L132.628 99.2771L134.024 98.8527L134.414 99.2312L134.906 100.699L134.734 102.638ZM130.957 141.22L130.281 141.564L129.468 141.518L128.587 141.025L127.579 139.717L130.086 138.8L131.128 139.339L131.426 139.958L131.403 140.646L130.957 141.22ZM134.803 126.172L134.665 127.422L134.184 128.856L134.677 130.404L134.711 131.459L135.673 131.849L136.234 132.331L140.469 132.904L144.487 132.71L145.208 133.191L145.254 133.914L144.567 134.694L142.289 136.139L139.473 138.467L138.626 138.949L137.722 138.995L137.161 138.754L136.863 134.59L133.967 135.129L131.586 135.072L130.292 134.59L129.445 133.627L127.763 131.127L122.485 130.106L121.089 128.764L120.643 127.904L120.906 127.468L122.028 126.459L123.401 126.791L124.305 126.596L124.821 126.126L124.844 125.736L124.157 124.876L124.168 124.589L129.617 123.477L130.121 121.711L131.346 121.562L132.628 122.146L134.414 123.959L134.803 126.172ZM110.947 121.275L113.385 122.812L111.199 125.404H108.096L103.781 123.534L103.804 123.144L104.17 122.571L104.845 122.089L105.59 121.997L106.631 122.33L108.222 121.802L109.436 121.997L110.947 121.275ZM109.069 137.01L108.073 137.159L106.86 137.01L106.059 136.575L105.418 134.889L105.315 133.822L105.75 131.895L105.807 129.636L108.428 129.533L109.069 129.865L109.092 136.724L109.069 137.01ZM104.971 141.174L102.98 141.564L102.247 141.369L102.109 140.979L102.659 140.015L104.239 139.671L105.28 140.21L105.418 140.692L104.971 141.174ZM128.552 223.453L126.618 223.304L125.164 223.808L124.214 224.267L123.367 224.21L120.826 224.37H118.376L118.078 223.602L118.616 221.262L118.135 220.654L115.869 220.356L115.056 219.794L113.786 218.223L113.568 217.466L113.454 216.457L112.171 215.138L110.535 214.174L109.527 214.129L107.501 215.7L105.83 217.26L106.379 218.028L106.826 219.037L105.864 219.794L103.163 221.526L102.705 222.18L101.926 222.535L100.679 222.031L97.5537 222.134L96.134 221.882L94.52 220.609L90.4334 219.748L89.7809 217.764L89.0483 217.42L84.5268 213.979L84 212.81L84.6299 212.156L86.4611 211.101L92.4481 209.38L93.4098 208.727L93.6044 208.119L91.8871 207.419L90.4104 206.662L89.9412 206.158L89.8839 205.699L90.8341 205.148L92.6084 205.102L93.9363 205.355L95.058 204.85L97.0957 204.345L98.3893 203.692L99.6599 202.029L100.908 200.526L101.045 199.723L102.281 196.868L102.819 196.168L106.608 194.321L107.467 195.365L109.299 195.617L111.027 194.665L113.099 191.718L114.45 191.569L115.938 191.764L118.88 191.42L124.134 190.066L126.469 190.02L129.697 190.72H132.124L134.208 192.819L135.226 196.122L137.768 199.425L141.247 202.281L141.259 203.99L139.965 204.953L137.23 206.112L137.264 207.362L138.969 206.708L140.492 206.456L144.178 206.708L145.38 208.015L146.147 209.885L146.593 211.445L146.193 213.165L145.288 212.615L144.338 211.101L143.274 210.39L141.934 210.034L142.438 212.11L142.072 214.931L142.656 215.184L144.418 215.241L143.125 218.074L140.733 218.888L137.939 219.186L137.218 220.207L136.657 221.526L135.146 223.453L133.234 224.565L130.876 224.37L128.552 223.453ZM248.737 325.39L246.642 326.457L246.024 327.684L245.497 328.166L244.192 328.487L242.887 328.544L237.862 326.032L236.637 326.136L237.782 324.966L241.01 324.06L242.761 322.832L246.836 324.002L248.737 325.39Z",
      "width": 400,
      "height": 400
    }
  }

  export let index = crypto.randomUUID()
  export let country
  export let p

  const mapId = crypto.randomUUID()
  const maskId = crypto.randomUUID()

  const { d, width, height } = data[country]

  const y = scaleLinear()
    .domain([ 0, 1 ])
    .range([ 0, height ])

</script>

<div id="fm-{index}" class="map">

  <svg width="100%" viewBox="0 0 {width} {height}">
    <defs>
      <path id={mapId} {d} />
    </defs>

    <mask id={maskId}>
      <use href="#{mapId}" fill="white" stroke="black" stroke-width=10 />
    </mask>
    
    <g class="path">
      <use class="path__background" href="#{mapId}" />
      <rect class="path__bar" x=0 y={height - y(p)} width={width} height={y(p)} mask="url(#{maskId})"/>
    </g>
  </svg>
  
</div>

<style lang="scss">
  @import "$lib/scss/breakpoints.scss";

  .map {
    overflow: hidden;
    height: 100%;

    display: grid;
    grid-template-columns: repeat(5, 1fr);
    grid-template-areas:
      ". map map map map";
    align-items: end;

    @include md {
      grid-template-areas:
      ". . map map map";

      align-items: center;
    }

    svg {
      grid-area: map;

      .path {
        &__background {
          fill: var(--clr-primary);
          stroke: black;
          stroke-width: 2;
        }
    
        &__bar {
          fill: var(--clr-secondary);
        }
      }
    }
  }
</style>